fix(m)
q <- zoo(cbind(c(1, 2, NA, NA, 5, NA, NA), seq(7)^2), as.Date(1:7))
fix(q)
fix(m)
r <- na.locf(m[,1]) * m[,2] / na.locf(m[,2] + (m[,1]-m[,1]))
fix(r)
r2 <- na.locf(q[,1]) * q[,2] / na.locf(q[,2] + (q[,1]-q[,1]))
fix(`r2`)
fix(m)
fix(`m1`)
m1 <- coredata(z.yr[index(z.yr)>(date-1)])
fix(`m1`)
fix(`m1`)
fix(`m2`)
ind
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
ind <- z
fix(ind)
m2 <- coredata(ind[index(ind)>date-1])
fix(`m2`)
r <- na.locf(m[,1]) * m[,2] / na.locf(m[,2] + (m[,1]-m[,1]))
fix(r)
fix(`m2`)
fix(`m1`)
fix(z.yr)
index <- "PRIX"
var <- "RevaloRG"
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
ind <- z
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
z.yr <- aggregate(z, floor, mean)
z.yr[index(z.yr)>date] <- NA
date <- 2008
z.yr[index(z.yr)>date] <- NA
m1 <- coredata(z.yr[index(z.yr)>(date-1)])
fix(`m1`)
m2 <- coredata(ind[index(ind)>date-1])
fix(`m2`)
m <- zoo(cbind(m1,m2), as.Date((date-1):2100))
m[,1]
m[,2]
as.Date((date-1):2100)
as.Date(1:7))
as.Date(1:7)
? as.Date
fix(z)
as.Date(1:7))
as.Date(1:7)
m <- zoo(cbind(c(1, 2, NA, NA, 5, NA, NA), seq(7)^2), as.Date(1:7))
fix(m)
as.Date(1:7)
fix(m)
2100-2007
index <- "PRIX" var <- "RevaloRG"
var <- "RevaloRG"
index <- "PRIX"
date <- 200_
date <- 2008
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
ind <- z
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
z.yr <- aggregate(z, floor, mean)
z.yr[index(z.yr)>date] <- NA
m1 <- coredata(z.yr[index(z.yr)>(date-1)])
m2 <- coredata(ind[index(ind)>date-1])
n <- as.Date(1:93, date-1)
m <- zoo(cbind(m1,m2), n))
fix(n)
n <- as.Date(0:93, date-1)
fix(n)
fix(`m1`)
n <- as.Date(0:93, date)
n <- as.Date(0:93, date)
fix(n)
fix(`m1`)
fix(z.yr)
z.yr[index(z.yr)>(date-1)]
length(z.yr[index(z.yr)>(date-1)])
fix(n)
n <- as.Date(0:92, date)
m <- zoo(cbind(m1,m2), n)
fix(m)
r <- na.locf(m[,1]) * m[,2] / na.locf(m[,2] + (m[,1]-m[,1]))
fix(r)
z.yr[index(z.yr)>=date]<-r
fix(z.yr)
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
z.yr <- aggregate(z, floor, mean)
ind <- z
fix(ind)
(seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12)
(seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
a          <- data.frame((seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12)))
View(a)
a <- merge(z.yr,a, by.x="Date",by.y="a",all=TRUE)
a <- merge(z.yr,a, by.x=index(z.yr),by.y="a",all=TRUE)
fix(a)
a          <- data.frame((seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12)))
colnames(a)<- "a"
a <- merge(z.yr,a, by.x=index(z.yr),by.y="a",all=TRUE)
fix(a)
a          <- (seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
a <- merge(z.yr,a, by.x=index(z.yr),by.y="a",all=TRUE)
fix(a)
a          <- (seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
fix(a)
fix(z.yr)
fix(z.yr)
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
z.yr <- aggregate(z, floor, mean)
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
z <- aggregate(z, floor, mean)
ind <- z
fix(ind)
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
z.yr <- aggregate(z, floor, mean)
z.yr[index(z.yr)>date] <- NA
# On rassemble les deux séries à partir de la date jusqu'à la fin
m1 <- coredata(z.yr[index(z.yr)>(date-1)])
m2 <- coredata(ind[index(ind)>date-1])
n <- as.Date(0:92, date)
m <- zoo(cbind(m1,m2), n)
# On remplace les NA en indexant var sur l'évolution de ind
r <- na.locf(m[,1]) * m[,2] / na.locf(m[,2] + (m[,1]-m[,1]))
# On replace les valeurs ainsi obtenues dans var
z.yr[index(z.yr)>=date]<-r
fix(z.yr)
a          <- (seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
fix(a)
aa <- merge(z.yr,a, by.x=index(z.yr),all=TRUE)
fix(aa)
aa <- zoo(z.yr, a)
fix(a)
fix(aa)
b <- data.frame(index(z.yr),coredata(z.yr))
View(b)
fix(z.yr)
a <- data.frame(seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
View(a)
View(b)
View(a)
colnames(a)<- "a"
colnames(b)<- "b"
View(b)
View(a)
aa <- merge(b,a, by.x="b",by.y="a",all=TRUE)
aa <- merge(b,a, by.x="b",by.y="a",all=TRUE)
View(b)
b <- merge(b,a, by.x="b",by.y="a",all=TRUE)
View(a)
View(b)
colnames(b)<- c("b","var")
View(b)
b <- merge(b,a, by.x="b",by.y="a",all=TRUE)
View(b)
z <- zoo(buf[,c],buf$Date)
z <- zoo(b[,c],buf$Date)
View(b)
z <- zoo(b[,c],b$b)
z <- zoo(b[,"c"],b$b)
b <- data.frame(index(z.yr),coredata(z.yr))
a <- data.frame(seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
colnames(a)<- "a"
colnames(b)<- c("b","c")
b <- merge(b,a, by.x="b",by.y="a",all=TRUE)
z <- zoo(b[,"c"],b$b)
fix(z)
fix(z)
z <- na.locf(z, na.rm=FALSE)
save (z,  file= (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData")))
param.save("RevaloRG","RevaloRG")
source("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/OutilsImport.R")
chemin_sauv  <- "P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/"
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
z[is.na(coredata(z))] <- 1.00
fix(z)
save (z,file=(paste0(chemin_sauv,"RevaloRG",".RData")))
param.index("RevaloRG","PRIX", 2008)
fix(z)
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
fix(z)
param.save("PSS","pss_a")
load  (paste0(chemin_sauv,"pss_a",".RData"))
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
fix(z)
save (z,file=(paste0(chemin_sauv,"pss_a",".RData")))
param.index("pps_a","SMPT", 2008)
param.index("pps_a","SMPT", 2008)
save (z,file=(paste0(chemin_sauv,"pss_a",".RData")))
param.index("pps_a","SMPT", 2008)
param.index("RevaloRG","PRIX", 2008)
fix(z)
load("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/pss_a.RData")
fix(z)
param.save("PSS","pss")
load  (paste0(chemin_sauv,"pss",".RData"))
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
save (z,file=(paste0(chemin_sauv,"pss",".RData")))
param.index("pps_a","SMPT", 2008)
param.index("pps","SMPT", 2008)
param.index("pss","SMPT", 2008)
fix(z)
load("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/pss.RData")
fix(z)
?? lag
param.save("PSS","pss")
load  (paste0(chemin_sauv,"pss",".RData"))
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
source("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/OutilsImport.R")
chemin_sauv  <- "P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/"
source("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/OutilsImport.R")
chemin_sauv  <- "P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/"
param.save("PSS","pss")
load  (paste0(chemin_sauv,"pss",".RData"))
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
load  (paste0(chemin_sauv,"SMPT",".RData"))
param.save("PSS","pss")
load  (paste0(chemin_sauv,"pss",".RData"))
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
load  (paste0(chemin_sauv,"SMPT",".RData"))
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
var <- z
load  (paste0(chemin_sauv,"SMPT",".RData"))
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
load  (paste0(chemin_sauv,"SMPT",".RData"))
index<-z
fix(index)
load  (paste0(chemin_sauv,"prix",".RData"))
index2 <- z
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
fix(z)
z[is.na(coredata(z))] <- 1.00
fix(z)
date <- 2008
z[index(z)>date] <- NA
fix(z)
ind <- index2
for (k in date:2100){z[index(z)==(k+1)]<-z[index(z)==k-1]*ind[index(ind)==k]/ind[index(z)==k-1]}
fix(z)
ind[index(ind)==2008]
for (k in date:2100){z[index(z)==(k+1)]<-z[index(z)==k]*ind[index(ind)==k+1]/ind[index(z)==k]}
z[index(z)==2008]*ind[index(ind)==2009]/ind[index(z)==2008]
z[index(z)==2008]
ind[index(ind)==2009]
ind[index(z)==2008]
for (k in date:2100){z[index(z)==(k+1)]<-z[index(z)==k]*ind[index(ind)==k+1]/ind[index(ind)==k]}
for (k in date:2100){coredata(z[index(z)==(k+1)])<-coredata(z[index(z)==k])*coredata(ind[index(ind)==k+1])/coredata(ind[index(ind)==k])}
fix(z)
var <' RevaloRG'
fix(var)
var <- "RevaloRG"
fix(z)
z[index(z)>date] <- na.locf(z[index(z)>date], na.rm=FALSE)
fix(z)
z[index(z)>=date] <- na.locf(z[index(z)>=date], na.rm=FALSE)
fix(z)
a<-z
lind <- lag(z)
load  (paste0(chemin_sauv,"prix",".RData"))
ind <- z
lind <- lag(z)
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
fix(lind)
param.save("PSS","pss")
load  (paste0(chemin_sauv,"pss",".RData"))
fix(z)
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
save (z,file=(paste0(chemin_sauv,"pss",".RData")))
param.index("pss","SMPT", 2008)
fix(z)
param.index("pss","SMPT", 2008)
fix(z)
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
z[is.na(coredata(z))] <- 1.00
save (z,file=(paste0(chemin_sauv,"RevaloRG",".RData")))
param.index("RevaloRG","PRIX", 2008)
fix(z)
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
fix(z)
save (z,file=(paste0(chemin_sauv,"RevaloRG",".RData")))
param.index("RevaloRG","PRIX", 2008)
fix(z)
index <- "PRIX"
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
ind <- z
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
# On remet à NA les valeur au-delà de la date d'indexation
z[index(z)>date] <- NA
# On multiplie par la valeur du paramètre par le taux de variation de la variable index
for (k in date:2100){coredata(z[index(z)==(k+1)])<-coredata(z[index(z)==k])*coredata(ind[index(ind)==k+1])/coredata(ind[index(ind)==k])}
# On complète pour les valeurs manquante
z[index(z)>=date] <- na.locf(z[index(z)>=date], na.rm=FALSE)
#
#   z.yr[index(z.yr)>date] <- NA
#   # On rassemble les deux séries à partir de la date jusqu'à la fin
#   m1 <- coredata(z.yr[index(z.yr)>(date-1)])
#   m2 <- coredata(ind[index(ind)>date-1])
#   n <- as.Date(0:92, date)
#   m <- zoo(cbind(m1,m2), n)
#   # On remplace les NA en indexant var sur l'évolution de ind
#   r <- na.locf(m[,1]) * m[,2] / na.locf(m[,2] + (m[,1]-m[,1]))
#   # On replace les valeurs ainsi obtenues dans var
#   z.yr[index(z.yr)>=date]<-r
#
#   #On repasse les valeurs au format mois/an et on sauvegarde
#   b <- data.frame(index(z.yr),coredata(z.yr))
#   a <- data.frame(seq(as.yearmon("1901-01"), as.yearmon("2100-12"), by=1/12))
#   colnames(a)<- "a"
#   colnames(b)<- c("b","c")
#   b <- merge(b,a, by.x="b",by.y="a",all=TRUE)
#   z <- zoo(b[,"c"],b$b)
#   z <- na.locf(z, na.rm=FALSE)
save (z,  file= (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData")))
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
fix(z)
#   n <- as.Date(0:92, date)
date <- "2008"
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",index,".RData"))
ind <- z
load  (paste0("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/",var,".RData"))
z[index(z)>date]
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
save (z,file=(paste0(chemin_sauv,"RevaloRG",".RData")))
param.index("RevaloRG","PRIX", 2008)
fix(z)
print (c("d",date))
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
source("P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/OutilsImport.R")
chemin_sauv  <- "P:/Retraites/PENSIPP 0.0/Outils/OutilsParam/"
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
save (z,file=(paste0(chemin_sauv,"RevaloRG",".RData")))
param.index("RevaloRG","PRIX", 2008)
fix(z)
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
fix(z)
ind <-load  (paste0(chemin_sauv,"PRIX",".RData"))
load  (paste0(chemin_sauv,"PRIX",".RData"))
ind <- z
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"PRIX",".RData"))
p <- z
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
z[is.na(coredata(z))] <- 1.00
for (k in 2012:2100){coredata(z[index(z)==(k+1)])<-coredata(ind[index(ind)==k+1])/coredata(ind[index(ind)==k])}
fix(z)
param.save("RevaloRG","RevaloRG")
load  (paste0(chemin_sauv,"PRIX",".RData"))
p <- z
load  (paste0(chemin_sauv,"RevaloRG",".RData"))
fix(z)
for (k in 2012:2100){coredata(z[index(z)==(k+1)])<-coredata(ind[index(ind)==k+1])/coredata(ind[index(ind)==k])}
fix(z)
z[index(z)>=date] <- na.locf(z[index(z)>=date], na.rm=FALSE)
z<- na.locf(z, na.rm=FALSE)
fix(z)
save (z,file=(paste0(chemin_sauv,"RevaloRG",".RData")))
param.save("PSS","pss")
load  (paste0(chemin_sauv,"pss",".RData"))
z[index(z)<2002]<-z[index(z)<2002]/6.55957
z[index(z)<1960]<-z[index(z)<1960]/100
save (z,file=(paste0(chemin_sauv,"pss",".RData")))
param.index("pss","SMPT", 2008)
load  (paste0(chemin_sauv,"pss",".RData"))
fix(z)
setwd("P:/Retraites/PENSIPP 0.0/Modèle/Paramètres/Demographie")
age_max      <- 121
quotient           <- array(0,dim=c(2,121,200))
survie             <- array(0,dim=c(2,121,200))
survie[1,,1:150]   <- read_ap("SH.csv")
survie[2,,1:150]   <- read_ap("SF.csv")
quotient[1,,1:150] <- read_ap("QH.csv")
quotient[2,,1:150] <- read_ap("QF.csv")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsMS.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsDestinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsLeg.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsRetr.R")
setwd("P:/Retraites/PENSIPP 0.0/Modèle/Paramètres/Demographie")
age_max      <- 121
quotient           <- array(0,dim=c(2,121,200))
survie             <- array(0,dim=c(2,121,200))
survie[1,,1:150]   <- read_ap("SH.csv")
survie[2,,1:150]   <- read_ap("SF.csv")
quotient[1,,1:150] <- read_ap("QH.csv")
quotient[2,,1:150] <- read_ap("QF.csv")
agemin <- 60
agemax <- 70
t <- 11
t <- 115
for (t in 30:200)
{
TauxCotCN[t]       <- 0.2
RendementCN[t]     <- PIB[t]/PIB[t-1]-1
RendementCNPrev[t] <- PIB[t]/PIB[t-1]-1
RevaloCN[t]        <- Prix[t]/Prix[t-1]
}
AnneeDepartCN <- 115
(t>=AnneeDepartCN)
x_croi <- RendementCNPrev[t]-(RevaloCN[t]-1)
taux_croi <- RendementCNPrev[t]-(RevaloCN[t]-1)
for (a in (agemin:agemax))
{
CoeffConv<<- 0
for (u in (a:110))
{
CoeffConv[a] <<- CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t])
}
#     print (c(a,CoeffConv[a]))
CoeffConv[a] <<- (survie[1,40,t]+survie[2,40,t])/CoeffConv[a]
#    print (c(a,CoeffConv[a]))
}
# Coeffs hors des bornes
for (a in (0:(agemin-1)))
{
CoeffConv[a] <<- 0
}
for (a in ((agemax+1):110))
{
CoeffConv[a] <<- CoeffConv[agemax]
}
}
assign(CoeffConv,0, envir = .GlobalEnv)
assign("CoeffConv",0, envir = .GlobalEnv)
assign("CoeffConv[a]", CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t]), envir = .GlobalEnv)
for (u in (a:110))
{
assign("CoeffConv[a]", CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t]), envir = .GlobalEnv)
#  CoeffConv[a] <<- CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t])
}
a <- agemin
for (u in (a:110))
{
assign("CoeffConv[a]", CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t]), envir = .GlobalEnv)
#  CoeffConv[a] <<- CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t])
#     print (c(a,CoeffConv[a]))
CoeffConv[a] <<- (survie[1,40,t]+survie[2,40,t])/CoeffConv[a]
#    print (c(a,CoeffConv[a]))
}
if (t>=AnneeDepartCN)
{
# Coeffs définis par la mortalité (suppose que les coefficients de revalo
# prospectifs sont au moins définis jusqu'en 2050)
taux_croi <- RendementCNPrev[t]-(RevaloCN[t]-1)      #NB : Revalo et rendement pas dans la même unité !)
for (a in (agemin:agemax))
{
CoeffConv <<- 0
for (u in (a:110))
{
CoeffConv[a] <<- CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t])
#     print (c(a,CoeffConv[a]))
CoeffConv[a] <<- (survie[1,40,t]+survie[2,40,t])/CoeffConv[a]
#    print (c(a,CoeffConv[a]))
}
# Coeffs hors des bornes
for (a in (0:(agemin-1)))
{
CoeffConv[a] <<- 0
}
for (a in ((agemax+1):110))
{
CoeffConv[a] <<- CoeffConv[agemax]
}
}
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsMS.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsDestinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsLeg.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsRetr.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsMS.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsDestinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/DefVarRetr_Destinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsLeg.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsRetr.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsMS.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsDestinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/DefVarRetr_Destinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsLeg.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsRetr.R")
fix(CoeffConv)
CoeffConv[] <<- 0
CoeffConv <<- 0
a
for (u in (a:110))
{
CoeffConv[a] <<- CoeffConv[a] + ((1+taux_croi)**(-u+a))*(survie[1,u,t]+survie[2,u,t])
#     print (c(a,CoeffConv[a]))
CoeffConv[a] <<- (survie[1,40,t]+survie[2,40,t])/CoeffConv[a]
#    print (c(a,CoeffConv[a]))
}
CoeffConv[a]
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsMS.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsDestinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/DefVarRetr_Destinie.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsLeg.R")
source("P:/Retraites/PENSIPP 0.0/Modèle/Outils/OutilsRetraite/OutilsRetr.R")
###### Fonction UseOptCN
# Spécifie les options supplémentaires si option "CN" a été demandées avec UseOpt.
CoeffConv[] <<- 0
CoeffConv[] <<- [0]
